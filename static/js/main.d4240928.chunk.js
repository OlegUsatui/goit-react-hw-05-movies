(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{15:function(e,t,n){e.exports={link:"Navigation_link__3FcVz",activeLink:"Navigation_activeLink__LV7EZ Navigation_link__3FcVz"}},18:function(e,t,n){e.exports={card:"CardFilm_card__MJkzZ",poster:"CardFilm_poster__2-SoR"}},34:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(31),i=n.n(a),s=n(4),j=n(15),u=n.n(j),o=n(0),l=function(){return Object(o.jsxs)("nav",{children:[Object(o.jsx)(s.c,{exact:!0,to:"/",className:u.a.link,activeClassName:u.a.activeLink,children:"Home"}),Object(o.jsx)(s.c,{to:"/movies",className:u.a.link,activeClassName:u.a.activeLink,children:"Movies"})]})},b=n(34),h=n.n(b);function d(){return Object(o.jsx)("header",{className:h.a.header,children:Object(o.jsx)(l,{})})}var O=n(2),v=n(9);function p(e){var t=e.text;return Object(o.jsx)("h1",{children:t})}var x=n(10),f=n.n(x),m=n(13),g=n(11),w=n.n(g);w.a.defaults.baseURL="https://api.themoviedb.org/3",w.a.defaults.params={api_key:"ecadeeef337d50b4de43abc10566a6ee",language:"en-US"};var _=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"day",e.next=3,w.a.get("/trending/movie/".concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,w.a.get("/search/movie",{params:{query:t,page:n,include_adult:!1}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/movie/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/movie/".concat(t,"/credits"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,w.a.get("/movie/".concat(t,"/reviews"),{params:{page:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function F(e){var t=e.movies;return Object(o.jsx)("ul",{children:t&&t.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"movies/".concat(e.id),children:e.title})},e.id)}))})}function C(){var e=Object(c.useState)([]),t=Object(v.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){_().then((function(e){return r(e.data.results)}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p,{text:"Trending today"}),n&&Object(o.jsx)(F,{movies:n})]})}function E(){var e=Object(c.useState)(""),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(v.a)(a,2),j=i[0],u=i[1],l=Object(c.useState)([]),b=Object(v.a)(l,2),h=b[0],d=b[1],p=Object(O.g)().url;Object(c.useEffect)((function(){j&&k(j).then((function(e){var t=e.data;return d(t.results)}))}),[j]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"text",value:n,onChange:function(e){r(e.target.value)},autoComplete:"off"}),Object(o.jsx)("button",{type:"submit",onClick:function(){u(n.trim())},children:"Search"}),h&&Object(o.jsx)("ul",{children:h.map((function(e){var t=e.title,n=e.id;return Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"".concat(p,"/").concat(n),children:t})},n)}))})]})}function L(){return Object(o.jsx)("h1",{children:"404 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})}var I=n(18),z=n.n(I);function A(e){var t=e.poster_path,n=e.title,c=e.popularity,r=e.overview,a=e.genres;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:z.a.card,children:[Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:n,width:"200",height:"300",className:z.a.poster}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{className:z.a.title,children:n}),Object(o.jsxs)("p",{children:["Use score: ",c.toFixed(0)," %"]}),Object(o.jsx)("h3",{children:"Overview"}),Object(o.jsx)("p",{children:r}),Object(o.jsx)("h4",{children:"Genres"}),Object(o.jsx)("p",{children:a})]})]})})}n(64);function J(e){var t=e.actors;return Object(o.jsx)("ul",{children:t.map((function(e){var t=e.profile_path,n=e.original_name,c=e.character,r=e.id;return Object(o.jsxs)("li",{children:[Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:n,width:"100"}),Object(o.jsx)("p",{children:n}),Object(o.jsx)("p",{children:c})]},r)}))})}function M(e){var t=e.reviews;return Object(o.jsx)("ul",{children:t.map((function(e){var t=e.author,n=e.content,c=e.id;return Object(o.jsxs)("li",{children:[Object(o.jsxs)("h4",{children:["Author: ",t]}),Object(o.jsx)("p",{children:n})]},c)}))})}function R(){var e=Object(c.useState)([]),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(v.a)(a,2),j=i[0],u=i[1],l=Object(O.f)().movieId,b=Object(O.g)().url;return Object(c.useEffect)((function(){N(l).then((function(e){var t=e.data;return r(t.cast)}))}),[l]),Object(c.useEffect)((function(){S(l).then((function(e){var t=e.data;return u(t.results)}))}),[l]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"Additional information"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"".concat(b,"/cast"),children:"Cast"})}),Object(o.jsx)("li",{children:Object(o.jsx)(s.b,{to:"".concat(b,"/reviews"),children:"Reviews"})})]}),Object(o.jsxs)(O.c,{children:[Object(o.jsx)(O.a,{path:"".concat(b,"/cast"),children:Object(o.jsx)(J,{actors:n})}),Object(o.jsx)(O.a,{path:"".concat(b,"/reviews"),children:0!==j.length?Object(o.jsx)(M,{reviews:j}):Object(o.jsx)("h5",{children:"We don't have any reviews for this movie"})})]})]})}function U(){var e=Object(O.f)().movieId,t=Object(c.useState)(null),n=Object(v.a)(t,2),r=n[0],a=n[1];if(Object(c.useEffect)((function(){y(e).then((function(e){return a(e.data)}))}),[e]),!r)return Object(o.jsx)("h1",{children:"...Loading"});var i=r.poster_path,s=r.title,j=r.popularity,u=r.overview,l=r.genres.map((function(e){return e.name})).join(", ");return Object(o.jsxs)(o.Fragment,{children:[r&&Object(o.jsx)(A,{poster_path:i,title:s,popularity:j,overview:u,genres:l}),Object(o.jsx)(R,{movie:r})]})}var V=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(d,{}),Object(o.jsxs)(O.c,{children:[Object(o.jsx)(O.a,{path:"/",exact:!0,children:Object(o.jsx)(C,{})}),Object(o.jsx)(O.a,{path:"/movies",exact:!0,children:Object(o.jsx)(E,{})}),Object(o.jsx)(O.a,{path:"/movies/:movieId",children:Object(o.jsx)(U,{})}),Object(o.jsx)(O.a,{children:Object(o.jsx)(L,{})})]})]})};i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(s.a,{children:Object(o.jsx)(V,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.d4240928.chunk.js.map